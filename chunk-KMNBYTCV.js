import{a as I,b as y}from"./chunk-DJ4XSWPO.js";import{a as L}from"./chunk-GLKHVHJO.js";import{g as s,i as l}from"./chunk-DVSSUFTZ.js";import"./chunk-XAZLOLJU.js";import"./chunk-KOY6NI4W.js";import{$ as i,$a as v,V as m,Va as f,Za as h,ba as d,db as S,eb as n,fb as r,gb as b,hb as C,ib as A,jb as x,la as g,ma as u,pb as a,rb as _}from"./chunk-FTNGTGBB.js";var c=class e{router=i(s);oAuthService=i(l);isAuthenticated=f(!1);constructor(){}isLoggedIn(){return this.oAuthService.getIdentityClaims()?this.isAuthenticated.set(!0):this.isAuthenticated.set(!1),this.isAuthenticated()}static \u0275fac=function(t){return new(t||e)};static \u0275prov=m({token:e,factory:e.\u0275fac,providedIn:"root"})};function O(e,o){if(e&1){let t=C();n(0,"p"),a(1,"dashboard works!"),r(),n(2,"div",1),A("click",function(){g(t);let D=x();return u(D.logoutGoogle())}),b(3,"i",2),a(4," LOGOUT"),r()}}function w(e,o){e&1&&(n(0,"ngx-spinner",0)(1,"p",3),a(2," Loading... "),r()()),e&2&&v("fullScreen",!0)}var T=class e{googleService=i(L);oAuthService=i(l);authService=i(c);router=i(s);profile=this.googleService.profile();isLogged=!1;ngOnInit(){setTimeout(()=>{console.log("profile",this.oAuthService.getIdentityClaims()),this.oAuthService.getIdentityClaims()?this.isLogged=!0:this.isLogged=!1,this.isLogged==!1&&this.redirectToLogin()},200)}redirectToLogin(){this.router.navigate(["login"])}logoutGoogle(){this.oAuthService.revokeTokenAndLogout(),this.oAuthService.logOut(),this.redirectToLogin()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=d({type:e,selectors:[["app-dashboard"]],standalone:!0,features:[_],decls:2,vars:1,consts:[["bdColor","rgba(0, 0, 0, 0.8)","size","medium","color","#fff","type","ball-spin",3,"fullScreen"],[1,"btn","btn-danger","btn-lg","btn-block",3,"click"],[1,"fa","fa-google"],[2,"color","white"]],template:function(t,p){t&1&&h(0,O,5,0)(1,w,3,1,"ngx-spinner",0),t&2&&S(p.isLogged?0:1)},dependencies:[y,I]})};export{T as DashboardComponent};
